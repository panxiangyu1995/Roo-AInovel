# 小说框架完善工具分步式工作流使用指南

## 简介

小说框架完善工具现在支持分步式工作流程，可以帮助您更有条理地完善小说框架。新的工作流程将复杂的框架完善任务分解为多个简单步骤，每次只需要关注一个步骤，使整个过程更加清晰和可控。

## 工作流程概述

分步式工作流程包括以下主要步骤：

1. **初始化** - 检查框架文件是否存在，如不存在则创建新文件
2. **分析框架** - 分析框架内容，确定可完善的方向
3. **显示选项** - 向您展示可完善的选项列表
4. **处理选择** - 根据您的选择确定要执行的工作流
5. **执行工作流** - 执行选定的工作流，完善框架的特定部分
6. **下一步选择** - 展示下一步可执行的选项，继续完善或结束

## 使用方法

### 基本使用

最简单的使用方式是直接调用工具，不需要指定任何特殊参数：

```
<novel_framework_refine>
<path>您的框架文件路径.md</path>
</novel_framework_refine>
```

系统将自动引导您完成整个工作流程，每次只执行一个步骤。

### 指定起始步骤

如果您希望从特定步骤开始，可以使用`step`参数：

```
<novel_framework_refine>
<path>您的框架文件路径.md</path>
<step>analyze</step>
</novel_framework_refine>
```

可用的步骤名称包括：
- `init` - 初始化步骤
- `analyze` - 分析框架步骤
- `show_options` - 显示选项步骤
- `process_choice` - 处理选择步骤
- `execute_workflow` - 执行工作流步骤
- `next_step` - 下一步选择步骤
- `complete` - 完成步骤

### 指定目标区域

您还可以使用`area`参数指定要完善的特定区域：

```
<novel_framework_refine>
<path>您的框架文件路径.md</path>
<area>character</area>
</novel_framework_refine>
```

可用的区域包括：
- `genre` - 小说题材
- `character` - 角色设计
- `plot` - 情节与大纲
- `world` - 世界观
- `theme` - 主题元素
- `chapter-outline` - 章节规划
- `style` - 叙事风格
- `writing-technique` - 写作手法
- `market` - 市场定位
- `tech` - 系统设定
- `emotion` - 情感设计
- `reflection` - 自我反思
- `plan` - 创作计划
- `all` - 所有区域（默认）

## 工作流程详解

### 1. 初始化步骤

此步骤检查您指定的框架文件是否存在。如果文件不存在，系统会询问您是否要创建新的框架文件。

**输出示例**：
```
正在初始化小说框架完善工具...
文件不存在: novel-framework.md。需要创建新文件。
```

### 2. 分析框架步骤

此步骤读取框架文件内容，分析可完善的方向，并检查基本框架元素是否都已存在。

**输出示例**：
```
正在分析框架内容...
```

### 3. 显示选项步骤

此步骤向您展示可完善的选项列表，您可以选择其中一个选项进行完善。

**输出示例**：
```
以下是您可以完善的选项：

选项1: 添加角色设计
描述: 创建主要角色、配角和反派的基本设定

选项2: 完善情节大纲
描述: 设计故事的主要情节线和发展脉络

...

请选择一个选项（输入选项编号或名称）：
```

### 4. 处理选择步骤

此步骤根据您的选择确定要执行的工作流。

### 5. 执行工作流步骤

此步骤执行选定的工作流，完善框架的特定部分。

**输出示例**：
```
正在完善角色设计...
```

### 6. 下一步选择步骤

此步骤展示下一步可执行的选项，您可以选择继续完善当前部分、跳转到其他部分、添加缺失的部分，或结束框架完善。

**输出示例**：
```
您的框架还缺少这些部分：情节与大纲, 世界观, 主题元素。

您当前正在完善角色设计。您希望接下来做什么？

1. 继续深入完善角色设计内容
2. 补充角色设计中的细节描述
3. 拓展角色设计的更多可能性
4. 跳转到情节与大纲部分
5. 添加缺失的情节与大纲部分
6. 结束框架完善，切换到文字生成模式开始写作

请选择操作（输入对应的序号）：
```

## 状态管理

分步式工作流程使用状态管理系统来记录您的进度，即使您中途退出，也可以在下次使用工具时继续完善。状态信息包括：

- 当前步骤
- 已完成的部分
- 缺失的部分
- 用户选择
- 当前工作流

## 最佳实践

1. **逐步完善** - 按照系统建议的顺序逐步完善框架的各个部分
2. **关注缺失部分** - 优先完善框架中缺失的基本部分
3. **深度优先** - 先深入完善一个部分，再转向其他部分
4. **保存进度** - 每完成一个步骤，系统会自动保存进度
5. **查看文件** - 随时查看框架文件，了解当前完善的效果

## 常见问题

### Q: 我可以随时中断工作流程吗？
A: 是的，您可以在任何步骤中断工作流程，下次使用工具时可以继续完善。

### Q: 如何查看我的框架文件？
A: 您可以使用文件浏览器查看框架文件，或者在工具执行完每个步骤后，系统会显示更新后的文件内容。

### Q: 如何切换到其他部分？
A: 在"下一步选择"步骤中，选择"跳转到XX部分"选项即可。

### Q: 我可以同时完善多个部分吗？
A: 分步式工作流程设计为每次只完善一个部分，但您可以在完成一个部分后立即跳转到其他部分。

### Q: 如何知道我的框架还缺少哪些部分？
A: 在"下一步选择"步骤中，系统会显示您的框架还缺少哪些部分。

## 结语

分步式工作流程使小说框架的完善过程更加清晰和可控，帮助您逐步构建完整的小说框架。通过遵循系统的引导，您可以更有效地完善框架的各个部分，为创作优质小说打下坚实的基础。 